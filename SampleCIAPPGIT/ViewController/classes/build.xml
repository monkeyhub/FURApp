<?xml version="1.0" encoding="windows-1252" ?>
<!--Ant buildfile generated by Oracle JDeveloper-->
<!--Generated 19 May, 2016 10:30:36 PM-->
<project name="ViewController" default="all">
  <property file="../ViewController/build.properties"/>
  <import file="../JLibs/jdev-libs.xml"/>
  <import file="../Model/build.xml"/>
  <path id="viewcontroller.classpath">
    <pathelement location="../Model/classes"/>
    <path refid="JLibs.library.JSP.Runtime"/>
    <path refid="JLibs.library.JSF.1.2"/>
    <path refid="JLibs.library.JSTL.1.2"/>
    <path refid="JLibs.library.ADF.Page.Flow.Runtime"/>
    <path refid="JLibs.library.ADF.Controller.Runtime"/>
    <path refid="JLibs.library.ADF.Controller.Schema"/>
    <path refid="JLibs.library.ADF.Faces.Runtime.11"/>
    <path refid="JLibs.library.ADF.Common.Runtime"/>
    <path refid="JLibs.library.ADF.Web.Runtime"/>
    <path refid="JLibs.library.MDS.Runtime"/>
    <path refid="JLibs.library.MDS.Runtime.Dependencies"/>
    <path refid="JLibs.library.Commons.Beanutils.1.6"/>
    <path refid="JLibs.library.Commons.Logging.1.0.4"/>
    <path refid="JLibs.library.Commons.Collections.3.1"/>
    <path refid="JLibs.library.ADF.DVT.Faces.Runtime"/>
    <path refid="JLibs.library.ADF.DVT.Faces.Databinding.Runtime"/>
    <path refid="JLibs.library.ADF.DVT.Faces.Databinding.MDS.Runtime"/>
    <path refid="JLibs.library.Oracle.JEWT"/>
    <path refid="JLibs.library.ADF.Common.Web.Runtime"/>
    <path refid="JLibs.library.Oracle.Page.Templates"/>
  </path>
   <target name="viewcontroller.init">
    <tstamp/>
    <mkdir dir="${viewcontroller.output.dir}"/>
    <mkdir dir="${viewcontroller.deploy.dir}"/>
  </target>
  <target name="viewcontroller.all" description="Build the project" depends="viewcontroller.compile,viewcontroller.copy"/>
  <target name="viewcontroller.clean" description="Clean the project">
    <delete includeemptydirs="true" quiet="true">
      <fileset dir="${viewcontroller.output.dir}" includes="**/*"/>
      <fileset dir="${viewcontroller.deploy.dir}" includes="**/*"/>
    </delete>
  </target>
  <target name="viewcontroller.compile" description="Compile Java source files" depends="viewcontroller.init,model.compile">
    <javac destdir="${viewcontroller.output.dir}" classpathref="viewcontroller.classpath"
           debug="${javac.debug}" nowarn="${javac.nowarn}"
           deprecation="${javac.deprecation}" encoding="Cp1252" source="1.6"
           target="1.6">
      <src path="${viewcontroller.src.dir}"/>
    </javac>
  </target>
  <target name="viewcontroller.copy" description="Copy files to output directory"
          depends="viewcontroller.init">
    
    <patternset id="copy.patterns">
      <include name="**/*.gif"/>
      <include name="**/*.jpg"/>
      <include name="**/*.jpeg"/>
      <include name="**/*.png"/>
      <include name="**/*.properties"/>
      <include name="**/*.xml"/>
      <include name="**/*.ejx"/>
      <include name="**/*.xcfg"/>
      <include name="**/*.cpx"/>
      <include name="**/*.dcx"/>
      <include name="**/*.sva"/>
      <include name="**/*.wsdl"/>
      <include name="**/*.ini"/>
      <include name="**/*.tld"/>
      <include name="**/*.tag"/>
      <include name="**/*.xlf"/>
      <include name="**/*.xsl"/>
      <include name="**/*.xsd"/>
    </patternset>
    <copy todir="${viewcontroller.output.dir}">
      <fileset dir="${viewcontroller.src.dir}">
        <patternset refid="copy.patterns"/>
      </fileset>
    </copy>
    <copy todir="${viewcontroller.output.dir}">
      <fileset dir="../ViewController/adfmsrc">
        <patternset refid="copy.patterns"/>
      </fileset>
    </copy>
    
    <patternset id="webfiles.patterns">
      <exclude name="WEB-INF/**"/>
    </patternset>
    
    <patternset id="webinf.patterns">
      <include name="WEB-INF/**/*.xml"/>
      <include name="WEB-INF/lib/*"/>
    </patternset>
    
    <patternset id="library.patterns">
    <include name="**/adf-controller.jar"/>
    <include name="**/adf-controller-api.jar"/>
    <include name="**/adf-controller-rt-common.jar"/>
    <include name="**/adf-faces-databinding-rt.jar"/>
    <include name="**/adf-pageflow-dtrt.jar"/>
    <include name="**/adf-pageflow-fwd.jar"/>
    <include name="**/adf-pageflow-impl.jar"/>
     <include name="**/adf-pageflow-rc.jar"/>
    <include name="**/adf-richclient-api-11.jar"/>
     <include name="**/adf-richclient-impl.jar"/>
    <include name="**/adf-dvt-faces.jar"/>
    <include name="**/adf-dvt-jclient.jar"/>
     <include name="**/adf-dvt-utils.jar"/>
    <include name="**/inspect4.jar"/>
    <include name="**/jewt4.jar"/>
    <include name="**/org.apache.commons.beanutils_1.6.jar"/>
    <include name="**/org.apache.commons.collections_3.1.jar"/>
    <include name="**/org.apache.commons.logging_1.0.4.jar"/>
    <include name="**/share.jar"/>
    <include name="**/trinidad-api.jar"/>
    <include name="**/trinidad-impl.jar"/>
    </patternset>
  </target>
  
  <target name="SampleCIApp.war"
         depends="viewcontroller.compile,viewcontroller.copy,model.copy"
  description="Builds WAR FILE">
        <war destfile="${viewcontroller.deploy.dir}/${viewcontroller.warfile}">
            
        <zipfileset dir="${viewcontroller.html.dir}" prefix="">
                <patternset refid="webinf.patterns"/>
        </zipfileset>
       
         <zipfileset dir="${viewcontroller.html.dir}" prefix="">
                <patternset refid="webfiles.patterns"/>
        </zipfileset>
       
        <zipfileset dir = "${viewcontroller.output.dir}" prefix="WEB-INF/classes">
          <exclude name=".data/**"/>
          <exclude name="**/*.cdi"/>
          <exclude name="**/build.xml"/>
          <exclude name="**/build.properties"/>
        </zipfileset>
       
       
       
        <zipfileset dir="${model.output.dir}" prefix="WEB-INF/classes">
          <exclude name=".data/**"/>
          <exclude name="**/*/cdi"/>
          <exclude name="**/build.xml"/>
          <exclude name="**/build.properties"/>
        </zipfileset>
       
          <zipfileset dir="../JLibs" prefix="WEB-INF/lib">
            <patternset refid="library.patterns"/>
         </zipfileset>
</war>
</target>
<target name="SampleCIApp_ear" depends="viewcontroller.compile,viewcontroller.copy,model.copy" description="Builds EAR FILE">
        <ear destfile="${viewcontroller.deploy.dir}/${viewcontroller.earfile}" appxml="../src/META-INF/weblogic-application.xml">
            
        <zipfileset dir="${viewcontroller.html.dir}" prefix="">
                <patternset refid="webinf.patterns"/>
        </zipfileset>
       
         <zipfileset dir="${viewcontroller.html.dir}" prefix="">
                <patternset refid="webfiles.patterns"/>
        </zipfileset>
       
        <zipfileset dir = "${viewcontroller.output.dir}" prefix="WEB-INF/classes">
          <exclude name=".data/**"/>
          <exclude name="**/*.cdi"/>
          <exclude name="**/build.xml"/>
          <exclude name="**/build.properties"/>
        </zipfileset>
       
       
       
        <zipfileset dir="${model.output.dir}" prefix="WEB-INF/classes">
          <exclude name=".data/**"/>
          <exclude name="**/*/cdi"/>
          <exclude name="**/build.xml"/>
          <exclude name="**/build.properties"/>
        </zipfileset>
       
          <zipfileset dir="../JLibs" prefix="WEB-INF/lib">
            <patternset refid="library.patterns"/>
         </zipfileset>
</ear>
</target>

<target name="undeploy">
   <path id="wl.deploy.path">
        <fileset file="C:\Oracle\Oracle11117\Middleware\wlserver_10.3\server\lib\weblogic.jar" />
    </path>
    <taskdef name="wldeploy" classname="weblogic.ant.taskdefs.management.WLDeploy">
        <classpath refid="wl.deploy.path" />
    </taskdef>
    <wldeploy
      action="undeploy" verbose="true" debug="false"
      name="SampleCIApp"
      user="weblogic" password="weblogic1"
      adminurl="http://localhost:7101" targets="DefaultServer"
      failonerror="false" />
  </target>

<target name="new_deploy" depends="SampleCIApp_ear">
    <path id="wl.deploy.path">
        <fileset file="C:\Oracle\Oracle11117\Middleware\wlserver_10.3\server\lib\weblogic.jar" />
    </path>
    <taskdef name="wldeploy" classname="weblogic.ant.taskdefs.management.WLDeploy">
        <classpath refid="wl.deploy.path" />
    </taskdef>
    <wldeploy
       action="deploy" verbose="true" debug="true"
      name="SampleCIApp" source="C:\keste\SampleCIAPPGIT\deploy\SampleCIApp.ear"
      user="weblogic" password="weblogic1"
      adminurl="http://localhost:7101" targets="DefaultServer" />
    </target>
</project>
